{"ast":null,"code":"import _defineProperty from \"/Users/Brent/sei-autumn-sweaters/Projects/react-restaurant/restaurant-app-react/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/Brent/sei-autumn-sweaters/Projects/react-restaurant/restaurant-app-react/src/App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport Profile from './Profile';\n\nconst my404 = () => {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, \"Page not found :-\\\\\");\n};\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.logIn = async loginInfo => {\n      try {\n        const loginResponse = await fetch('http://localhost:8000/user/login', {\n          method: 'POST',\n          credentials: 'include',\n          body: JSON.stringify(loginInfo),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        const parsedResponse = await loginResponse.json();\n        this.setState(() => {\n          return _objectSpread({}, parsedResponse.data, {\n            loading: false,\n            isAuth: true\n          });\n        });\n        return parsedResponse;\n      } catch (err) {\n        console.log(err, 'Error in login');\n      }\n    };\n\n    this.register = async data => {\n      console.log(data);\n\n      try {\n        const registerResponse = await fetch('http://localhost:8000/user/register', {\n          method: 'POST',\n          credentials: 'include',\n          body: data,\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        const parsedResponse = await registerResponse.json();\n        console.log(parsedResponse);\n        this.setState(_objectSpread({}, parsedResponse.data, {\n          loading: false,\n          isAuth: true\n        }));\n        return parsedResponse;\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.logout = () => {\n      this.setState({\n        isAuth: false\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      email: '',\n      isAuth: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: props => React.createElement(Login, Object.assign({}, props, {\n        logIn: this.logIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/register\",\n      render: props => React.createElement(Register, Object.assign({}, props, {\n        register: this.register,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/profile\",\n      render: props => React.createElement(Profile, Object.assign({}, props, {\n        userInfo: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(Route, {\n      component: my404,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/Brent/sei-autumn-sweaters/Projects/react-restaurant/restaurant-app-react/src/App.js"],"names":["React","Component","Route","Switch","Login","Register","Profile","my404","App","constructor","logIn","loginInfo","loginResponse","fetch","method","credentials","body","JSON","stringify","headers","parsedResponse","json","setState","data","loading","isAuth","err","console","log","register","registerResponse","logout","state","username","password","email","render","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { Route, Switch } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport Profile from './Profile';\n\nconst my404 = () => {\n  return (\n    <div>\n      Page not found :-\\\n    </div>\n    )\n}\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      username: '',\n      password: '',\n      email: '',\n      isAuth: false\n    }\n  }\n\n  logIn = async(loginInfo) => {\n    try {\n      const loginResponse = await fetch('http://localhost:8000/user/login', {\n        method: 'POST',\n        credentials: 'include',\n        body: JSON.stringify(loginInfo),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n\n      const parsedResponse = await loginResponse.json();\n      this.setState(() => {\n        return {\n          ...parsedResponse.data,\n          loading: false,\n          isAuth: true\n        }\n      })\n\n      return parsedResponse\n    } catch(err) {\n      console.log(err, 'Error in login');\n    }\n  }\n\n  register = async(data) => {\n    console.log(data);\n    try {\n      const registerResponse = await fetch('http://localhost:8000/user/register', {\n        method: 'POST',\n        credentials: 'include',\n        body: data,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n\n      const parsedResponse = await registerResponse.json();\n      console.log(parsedResponse);\n\n      this.setState({\n        ...parsedResponse.data,\n        loading: false,\n        isAuth: true\n      })\n      return parsedResponse;\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  logout = () => {\n    this.setState({\n      isAuth: false\n    })\n  }\n\n  render() {\n    return (\n      <main>\n        <Switch>\n          <Route exact path='/login' render={(props) => <Login {...props} logIn={this.logIn} />} />\n          <Route exact path='/register' render={(props) => <Register {...props} register={this.register} />} />\n          <Route exact path='/profile' render={(props) => <Profile {...props} userInfo={this.state}/> } />\n          <Route component={my404} />\n        </Switch>\n      </main>\n  );\n  }\n}\n  \n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}