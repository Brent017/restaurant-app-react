{"ast":null,"code":"import _defineProperty from \"/Users/Brent/sei-autumn-sweaters/Projects/react-restaurant/restaurant-app-react/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/Brent/sei-autumn-sweaters/Projects/react-restaurant/restaurant-app-react/src/App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport Profile from './Profile';\nimport Logout from './Logout';\nimport ReturnMenu from './ReturnMenu';\nimport './App.css';\n\nconst my404 = () => {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, \"Page not found :-\\\\\");\n};\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.logIn = async loginInfo => {\n      try {\n        const loginResponse = await fetch(process.env.REACT_APP_BACKEND_URL + '/user/login', {\n          method: 'POST',\n          credentials: 'include',\n          body: JSON.stringify(loginInfo),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        const parsedResponse = await loginResponse.json();\n        this.setState(() => {\n          return _objectSpread({}, parsedResponse.data, {\n            loading: false,\n            isAuth: true\n          });\n        });\n        return parsedResponse;\n      } catch (err) {\n        console.log(err, 'Error in login');\n      }\n    };\n\n    this.register = async data => {\n      console.log(data);\n\n      try {\n        const registerResponse = await fetch(process.env.REACT_APP_BACKEND_URL + '/user/register', {\n          method: 'POST',\n          credentials: 'include',\n          body: data,\n          headers: {\n            'enctype': 'multipart/form-data'\n          }\n        });\n        const parsedResponse = await registerResponse.json();\n        console.log(parsedResponse);\n        this.setState(_objectSpread({}, parsedResponse.data, {\n          loading: false,\n          isAuth: true\n        }));\n        return parsedResponse;\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.logout = () => {\n      this.setState({\n        isAuth: false\n      });\n    };\n\n    this.state = {\n      id: '',\n      username: '',\n      password: '',\n      email: '',\n      isAuth: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.state.isAuth ? React.createElement(Logout, {\n      logout: this.logout,\n      isAuth: this.state.isAuth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }) : null, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: props => React.createElement(Login, Object.assign({}, props, {\n        logIn: this.logIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/register\",\n      render: props => React.createElement(Register, Object.assign({}, props, {\n        register: this.register,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/profile\",\n      render: props => React.createElement(Profile, Object.assign({}, props, {\n        userInfo: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/menu\",\n      render: props => React.createElement(ReturnMenu, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(Route, {\n      component: my404,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/Brent/sei-autumn-sweaters/Projects/react-restaurant/restaurant-app-react/src/App.js"],"names":["React","Component","Route","Switch","Login","Register","Profile","Logout","ReturnMenu","my404","App","constructor","logIn","loginInfo","loginResponse","fetch","process","env","REACT_APP_BACKEND_URL","method","credentials","body","JSON","stringify","headers","parsedResponse","json","setState","data","loading","isAuth","err","console","log","register","registerResponse","logout","state","id","username","password","email","render","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { Route, Switch } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport Profile from './Profile';\nimport Logout from './Logout';\nimport ReturnMenu from './ReturnMenu';\nimport './App.css';\n\nconst my404 = () => {\n  return (\n    <div>\n      Page not found :-\\\n    </div>\n    )\n}\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      id: '',\n      username: '',\n      password: '',\n      email: '',\n      isAuth: false\n    }\n  }\n\n  logIn = async(loginInfo) => {\n    try {\n      const loginResponse = await fetch(process.env.REACT_APP_BACKEND_URL + '/user/login', {\n        method: 'POST',\n        credentials: 'include',\n        body: JSON.stringify(loginInfo),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n\n      const parsedResponse = await loginResponse.json();\n      this.setState(() => {\n        return {\n          ...parsedResponse.data,\n          loading: false,\n          isAuth: true\n        }\n      })\n\n      return parsedResponse\n    } catch(err) {\n      console.log(err, 'Error in login');\n    }\n  }\n\n  register = async(data) => {\n    console.log(data);\n    try {\n      const registerResponse = await fetch(process.env.REACT_APP_BACKEND_URL + '/user/register', {\n        method: 'POST',\n        credentials: 'include',\n        body: data,\n        headers: {\n          'enctype': 'multipart/form-data'\n        }\n      })\n\n      const parsedResponse = await registerResponse.json();\n      console.log(parsedResponse);\n\n      this.setState({\n        ...parsedResponse.data,\n        loading: false,\n        isAuth: true\n      })\n      return parsedResponse;\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  logout = () => {\n    this.setState({\n      isAuth: false\n    })\n  }\n\n  render() {\n    return (\n      <main>\n        {this.state.isAuth ? <Logout logout={this.logout} isAuth={this.state.isAuth} /> : null}\n        <Switch>\n          <Route exact path='/' render={(props) => <Login {...props} logIn={this.logIn} />} />\n          <Route exact path='/register' render={(props) => <Register {...props} register={this.register} />} />\n          <Route exact path='/profile' render={(props) => <Profile {...props} userInfo={this.state}/> } />\n          <Route exact path='/menu' render={(props) => <ReturnMenu{...props} />} />\n          <Route component={my404} />\n        </Switch>\n      </main>\n  );\n  }\n}\n  \n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}