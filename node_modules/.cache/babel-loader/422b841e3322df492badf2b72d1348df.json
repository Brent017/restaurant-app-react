{"ast":null,"code":"var _jsxFileName = \"/Users/Brent/sei-autumn-sweaters/Projects/react-restaurant/restaurant-app-react/src/MenuContainer/index.js\";\nimport React, { Component } from 'react';\n\nclass MenuContainer extends Component {\n  constructor() {\n    super();\n\n    this.setRestaurants = () => {\n      this.setState({\n        restaurants: this.props.restaurants\n      });\n    };\n\n    this.handleCheckboxChange = async (e, favorite) => {\n      this.setState({\n        id: [e.target.id],\n        name: [e.target.name],\n        cuisines: [e.target.cuisines],\n        address: [e.target.address],\n        menu_url: [e.target.menu_url]\n      }, () => {\n        console.log(this.state.favorites, 'this.state.favorites in handleCheckboxChange');\n      });\n\n      try {\n        // console.log(\"SOMETHING\");\n        const addFavorite = await fetch('http://localhost:8000/api/v1/', {\n          method: \"POST\",\n          body: favorite,\n          credentials: 'include',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        console.log(addFavorite.status, \"addFavorite status before status\");\n\n        if (addFavorite.status !== 200) {\n          throw Error('404 from server');\n          console.log(addFavorite.status, 'addFavorite.status after');\n        }\n\n        const addFavoriteResponse = await addFavorite.json();\n        console.log(addFavoriteResponse.data, \"Favorites DATA\");\n        this.setState({\n          faovrites: [...addFavorite.data]\n        });\n      } catch (err) {\n        console.log(err, 'addFavorite error');\n        return err;\n      }\n    };\n\n    this.getFavorites = async () => {\n      try {\n        console.log(this.props, 'props in get');\n        const responseGetFavorites = await fetch('http://localhost:8000/api/v1/' + this.props.userInfo.id);\n        console.log(responseGetFavorites, 'responseGetFavorites');\n        const favoritesResponse = await responseGetFavorites.json();\n        console.log((await favoritesResponse), '<-favoritesResponse');\n\n        if (favoritesResponse.status.code !== 200) {\n          throw Error('404 from server');\n        }\n\n        this.setState({\n          favorites: favoritesResponse.data\n        });\n      } catch (err) {\n        console.log(err, 'err from getFavorites');\n        return err;\n      }\n    };\n\n    this.state = {\n      restaurants: [],\n      isLoaded: false,\n      favorites: [],\n      id: '',\n      name: '',\n      cuisines: '',\n      address: '',\n      menu_url: ''\n    };\n  }\n\n  componentDidMount() {\n    this.setRestaurants();\n    this.setState({\n      isLoaded: true\n    });\n  }\n\n  render() {\n    let _this$state = this.state,\n        isLoaded = _this$state.isLoaded,\n        restaurants = _this$state.restaurants; // if(!isLoaded) {\n    // \treturn<div>Loading...</div>;\n    // }\n    // else {\n\n    return React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, this.props.restaurants.map(restaurant => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      class: \"ui card\",\n      href: restaurant.restaurant.menu_url,\n      target: \"_blank\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        backgroundColor: 'aquamarine'\n      },\n      class: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, restaurant.restaurant.name), React.createElement(\"div\", {\n      class: \"meta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, restaurant.restaurant.cuisines), React.createElement(\"div\", {\n      class: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, restaurant.restaurant.location.address), React.createElement(\"div\", {\n      style: {\n        opacity: \".01\"\n      },\n      class: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, restaurant.restaurant.id), React.createElement(\"input\", {\n      onChange: this.handleCheckboxChange,\n      name: restaurant.restaurant,\n      type: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), \"Add to Favorites\")))))); // }\n  }\n\n}\n\nexport default MenuContainer;","map":{"version":3,"sources":["/Users/Brent/sei-autumn-sweaters/Projects/react-restaurant/restaurant-app-react/src/MenuContainer/index.js"],"names":["React","Component","MenuContainer","constructor","setRestaurants","setState","restaurants","props","handleCheckboxChange","e","favorite","id","target","name","cuisines","address","menu_url","console","log","state","favorites","addFavorite","fetch","method","body","credentials","headers","status","Error","addFavoriteResponse","json","data","faovrites","err","getFavorites","responseGetFavorites","userInfo","favoritesResponse","code","isLoaded","componentDidMount","render","map","restaurant","backgroundColor","location","opacity"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\n\nclass MenuContainer extends Component {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\trestaurants: [],\n\t\t\tisLoaded: false,\n\t\t\tfavorites: [],\n\t\t\tid: '',\n\t\t\tname: '',\n\t\t\tcuisines: '',\n\t\t\taddress: '',\n\t\t\tmenu_url: ''\n\n\t\t}\n\t}\n\n\tsetRestaurants = () => {\n\t\tthis.setState({\n\t\t\trestaurants: this.props.restaurants\n\t\t})\n\t}\n\n\thandleCheckboxChange = async (e, favorite) => {\n\t\t\n\t\tthis.setState({\n\t\t\tid: [e.target.id: e.target.value],\n\t\t\tname: [e.target.name: e.target.value],\n\t\t\tcuisines: [e.target.cuisines: e.target.value],\n\t\t\taddress: [e.target.address: e.target.value],\n\t\t\tmenu_url: [e.target.menu_url: e.target.value]\n\t\t}, () => {\n\t\t\tconsole.log(this.state.favorites, 'this.state.favorites in handleCheckboxChange');\n\t\t})\n\t\ttry {\n\t\t\t// console.log(\"SOMETHING\");\n\t\t\tconst addFavorite = await fetch('http://localhost:8000/api/v1/', {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: favorite,\n\t\t\t\tcredentials: 'include',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t})\n\t\t\tconsole.log(addFavorite.status, \"addFavorite status before status\");\n\t\t\tif(addFavorite.status !==200) {\n\t\t\t\tthrow Error('404 from server')\n\t\t\t\tconsole.log(addFavorite.status, 'addFavorite.status after');\n\t\t\t}\n\t\t\tconst addFavoriteResponse = await addFavorite.json();\n\t\t\tconsole.log(addFavoriteResponse.data, \"Favorites DATA\");\n\t\t\tthis.setState({\n\t\t\t\tfaovrites: [...addFavorite.data]\n\t\t\t})\n\t\t} catch(err) {\n\t\t\tconsole.log(err, 'addFavorite error');\n\t\t\treturn err\n\t\t}\n\t}\n\n\tgetFavorites = async() => {\n\t\ttry {\n\t\t\tconsole.log(this.props, 'props in get');\n\t\t\tconst responseGetFavorites = await fetch('http://localhost:8000/api/v1/' + this.props.userInfo.id)\n\n\t\t\tconsole.log(responseGetFavorites, 'responseGetFavorites');\n\t\t\tconst favoritesResponse = await responseGetFavorites.json();\n\t\t\tconsole.log(await favoritesResponse, '<-favoritesResponse');\n\t\t\tif(favoritesResponse.status.code !== 200) {\n\t\t\t\tthrow Error('404 from server')\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tfavorites: favoritesResponse.data\n\t\t\t})\n\t\t} catch(err) {\n\t\t\tconsole.log(err, 'err from getFavorites');\n\t\t\treturn err\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setRestaurants();\n\t\tthis.setState({\n\t\t\tisLoaded: true\n\t\t})\n\n\t}\n\n\trender() {\n\n\t\tlet { isLoaded, restaurants } = this.state;\n\t\t\n\t\t// if(!isLoaded) {\n\t\t// \treturn<div>Loading...</div>;\n\t\t// }\n\n\t\t// else {\n\t\treturn (\n\t\t\t<main>\n\t\t\t\t\n\t\t\t\t<tr >\n\t\t\t\t\t{this.props.restaurants.map(restaurant => (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<a class=\"ui card\" href={restaurant.restaurant.menu_url} target=\"_blank\">\n  \t\t\t\t\t\t\t<div style={{ backgroundColor: 'aquamarine' }} class=\"content\">\n\t\t\t\t\t\t\t    <div class=\"header\">{restaurant.restaurant.name}</div>\n\t\t\t\t\t\t\t    <div class=\"meta\">{restaurant.restaurant.cuisines}</div>\n\t\t\t\t\t\t\t    \n\t\t\t\t\t\t\t    <div class=\"description\">{restaurant.restaurant.location.address}</div>\n\t\t\t\t\t\t\t    <div style={{ opacity: \".01\" }} class=\"description\">{restaurant.restaurant.id}</div>\n\t\t\t\t\t\t\t\t<input onChange={this.handleCheckboxChange} name={restaurant.restaurant} type='checkbox'/>Add to Favorites\t\t\t\t\t\t\n  \t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</tr>\n\t\t\t</main>\n\t\t\t)\n\t\t// }\n\t}\n}\n\nexport default MenuContainer;"]},"metadata":{},"sourceType":"module"}