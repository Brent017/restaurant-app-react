{"ast":null,"code":"import _defineProperty from \"/Users/Brent/sei-autumn-sweaters/Projects/react-restaurant/restaurant-app-react/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/Brent/sei-autumn-sweaters/Projects/react-restaurant/restaurant-app-react/src/MenuContainer/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\n\nclass MenuContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setRestaurants = () => {\n      this.setState({\n        restaurants: this.props.restaurants\n      });\n    };\n\n    this.addFavorite = async props => {\n      try {\n        // console.log(\"TRY in POST route\");\n        const addFavorite = await fetch('http://localhost:8000/api/v1/', {\n          method: \"POST\",\n          body: JSON.stringify(this.state.data),\n          credentials: 'include',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }); // console.log(addFavorite, \"addFavorite status before status\");\n\n        if (addFavorite.status !== 200) {\n          throw Error('404 from server');\n          console.log(addFavorite.status, 'addFavorite.status error');\n        }\n\n        const addFavoriteResponse = await addFavorite.json(); // console.log(addFavoriteResponse, \"Favorites DATA\");\n\n        this.setState({\n          favorites: [_objectSpread({}, addFavoriteResponse.data)]\n        }); // console.log(this.props, \"props in addFavorite\");\n\n        this.props.getFavorites();\n      } catch (err) {\n        console.log(err, 'addFavorite error');\n        return err;\n      }\n    };\n\n    this.handleCheckboxChange = async e => {\n      this.setState({\n        data: {\n          name: e.currentTarget.name,\n          id: e.currentTarget.id,\n          cuisine: e.currentTarget.value,\n          address: e.currentTarget.title,\n          menu_url: e.currentTarget.src\n        }\n      }, () => {\n        console.log(this.state.data, 'this.state.data in handleCheckboxChange');\n        this.addFavorite();\n      });\n    };\n\n    this.state = {\n      restaurants: [],\n      isLoaded: false,\n      favorites: [],\n      data: {\n        id: '',\n        name: '',\n        cuisine: '',\n        address: '',\n        menu_url: ''\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.setRestaurants();\n    this.setState({\n      isLoaded: true\n    });\n  }\n\n  render() {\n    let _this$state = this.state,\n        isLoaded = _this$state.isLoaded,\n        restaurants = _this$state.restaurants; // if(!isLoaded) {\n    // \treturn<div>Loading...</div>;\n    // }\n    // else {\n\n    return React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, this.props.restaurants.map(restaurant => React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"ui card\",\n      href: restaurant.restaurant.menu_url,\n      target: \"_blank\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      style: {\n        backgroundColor: 'aquamarine'\n      },\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, restaurant.restaurant.name), React.createElement(\"td\", {\n      className: \"meta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, restaurant.restaurant.cuisines), React.createElement(\"td\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, restaurant.restaurant.location.address), React.createElement(\"td\", {\n      style: {\n        opacity: \".01\"\n      },\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, restaurant.restaurant.id), React.createElement(\"input\", {\n      onChange: this.handleCheckboxChange,\n      type: \"checkbox\",\n      id: restaurant.restaurant.id,\n      name: restaurant.restaurant.name,\n      value: restaurant.restaurant.cuisines,\n      title: restaurant.restaurant.location.address,\n      src: restaurant.restaurant.menu_url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), \"Add to Favorites\")))))); // }\n  }\n\n}\n\nexport default MenuContainer;","map":{"version":3,"sources":["/Users/Brent/sei-autumn-sweaters/Projects/react-restaurant/restaurant-app-react/src/MenuContainer/index.js"],"names":["React","Component","MenuContainer","constructor","props","setRestaurants","setState","restaurants","addFavorite","fetch","method","body","JSON","stringify","state","data","credentials","headers","status","Error","console","log","addFavoriteResponse","json","favorites","getFavorites","err","handleCheckboxChange","e","name","currentTarget","id","cuisine","value","address","title","menu_url","src","isLoaded","componentDidMount","render","map","restaurant","backgroundColor","cuisines","location","opacity"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\n\nclass MenuContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\trestaurants: [],\n\t\t\tisLoaded: false,\n\t\t\tfavorites: [],\n\t\t\tdata: {\n\t\t\t\tid: '',\n\t\t\t\tname: '',\n\t\t\t\tcuisine: '',\n\t\t\t\taddress: '',\n\t\t\t\tmenu_url: ''\n\t\t\t}\n\t\t}\n\t}\n\n\tsetRestaurants = () => {\n\t\tthis.setState({\n\t\t\trestaurants: this.props.restaurants\n\t\t})\n\t}\n\n\taddFavorite = async (props) => {\n\t\ttry {\n\t\t\t// console.log(\"TRY in POST route\");\n\t\t\tconst addFavorite = await fetch('http://localhost:8000/api/v1/', {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(this.state.data),\n\t\t\t\tcredentials: 'include',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t})\n\t\t\t// console.log(addFavorite, \"addFavorite status before status\");\n\t\t\tif(addFavorite.status !==200) {\n\t\t\t\tthrow Error('404 from server')\n\t\t\t\tconsole.log(addFavorite.status, 'addFavorite.status error');\n\t\t\t}\n\t\t\tconst addFavoriteResponse = await addFavorite.json();\n\t\t\t// console.log(addFavoriteResponse, \"Favorites DATA\");\n\t\t\tthis.setState({\n\t\t\t\tfavorites: [{...addFavoriteResponse.data}]\n\t\t\t})\n\t\t\t// console.log(this.props, \"props in addFavorite\");\n\t\t\tthis.props.getFavorites()\n\t\t} catch(err) {\n\t\t\tconsole.log(err, 'addFavorite error');\n\t\t\treturn err\n\t\t}\n\t\t\n\t}\n\n\thandleCheckboxChange = async (e) => {\n\t\t\n\t\tthis.setState({\n\t\t\tdata: {\n\t\t\t\tname: e.currentTarget.name,\n\t\t\t\tid: e.currentTarget.id,\n\t\t\t\tcuisine: e.currentTarget.value,\n\t\t\t\taddress: e.currentTarget.title,\n\t\t\t\tmenu_url: e.currentTarget.src\n\t\t\t}\n\t\t}, () => {\n\t\t\tconsole.log(this.state.data, 'this.state.data in handleCheckboxChange');\n\t\t\tthis.addFavorite()\n\t\t})\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setRestaurants();\n\t\tthis.setState({\n\t\t\tisLoaded: true\n\t\t})\n\n\t}\n\n\trender() {\n\n\t\tlet { isLoaded, restaurants } = this.state;\n\t\t\n\t\t// if(!isLoaded) {\n\t\t// \treturn<div>Loading...</div>;\n\t\t// }\n\n\t\t// else {\n\t\treturn (\n\t\t\t<main>\n\t\t\t\t\n\t\t\t\t<tr>\n\t\t\t\t\t{this.props.restaurants.map(restaurant => (\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<a className=\"ui card\" href={restaurant.restaurant.menu_url} target=\"_blank\">\n  \t\t\t\t\t\t\t<td style={{ backgroundColor: 'aquamarine' }} className=\"content\">\n\t\t\t\t\t\t\t    <td className=\"header\">{restaurant.restaurant.name}</td>\n\t\t\t\t\t\t\t    <td className=\"meta\">{restaurant.restaurant.cuisines}</td>\n\t\t\t\t\t\t\t    \n\t\t\t\t\t\t\t    <td className=\"description\">{restaurant.restaurant.location.address}</td>\n\t\t\t\t\t\t\t    <td style={{ opacity: \".01\" }} className=\"description\">{restaurant.restaurant.id}</td>\n\t\t\t\t\t\t\t\t<input onChange={this.handleCheckboxChange} type='checkbox'\n\t\t\t\t\t\t\t\t\tid={restaurant.restaurant.id} \n\t\t\t\t\t\t\t\t\tname={restaurant.restaurant.name} \n\t\t\t\t\t\t\t\t\tvalue={restaurant.restaurant.cuisines} \n\t\t\t\t\t\t\t\t\ttitle={restaurant.restaurant.location.address} \n\t\t\t\t\t\t\t\t\tsrc={restaurant.restaurant.menu_url}\n\t\t\t\t\t\t\t\t/>Add to Favorites\t\t\t\t\t\t\n  \t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</td>\n\t\t\t\t\t))}\n\t\t\t\t</tr>\n\t\t\t</main>\n\t\t\t)\n\t\t// }\n\t}\n}\n\nexport default MenuContainer;"]},"metadata":{},"sourceType":"module"}